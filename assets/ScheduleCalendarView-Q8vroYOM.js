import{d as ie,z as ne,r as c,c as y,o as de,C as ue,a as l,b as e,e as g,s as m,h as C,D as R,i as ce,w as E,g as A,v as ge,A as be,F as v,l as p,t as o,f as xe,j as a,_ as ye}from"./index-2APcEGPh.js";import{u as me}from"./schedule-BExohRoC.js";import{u as ve}from"./discord-Bm3q4cqY.js";const pe={class:"max-w-7xl mx-auto"},fe={class:"bg-white rounded-lg border border-gray-200 p-4 mb-8"},he={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},we={class:"flex gap-2"},_e={class:"bg-white rounded-lg border border-gray-200 p-4 mb-8"},ke={class:"flex flex-col gap-2"},Ce={class:"flex flex-col gap-2"},Se=["value"],De={class:"flex gap-2 md:justify-end"},Te=["disabled"],$e={key:0,class:"text-sm text-red-600 mt-3"},je={key:0,class:"space-y-8"},Me={class:"bg-white rounded-lg border border-gray-200 p-6"},Fe={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},Ne={class:"flex items-center gap-2"},Ve={class:"px-3 py-2 rounded-md border border-gray-200 bg-gray-50"},Ue={class:"text-base font-medium text-gray-800"},ze={class:"grid grid-cols-7 gap-2"},Le=["onClick"],Be={key:0,class:"h-full flex flex-col"},Ye={class:"flex-1 space-y-1"},qe=["onClick","title"],Ee={key:0,class:"bi bi-arrow-repeat text-gray-500 flex-shrink-0",title:"循環排程"},Ie={class:"truncate"},Oe={key:0,class:"text-xs text-gray-600 font-semibold px-2"},We={key:0,class:"bg-white rounded-lg border border-gray-200 p-6"},Re={class:"flex items-center gap-3 mb-5"},Ae={class:"text-lg font-semibold text-gray-900"},Ke={key:0,class:"text-center py-12"},Ge={key:1,class:"space-y-4"},He={class:"flex items-start justify-between"},Je={class:"flex-1"},Pe={class:"flex items-center gap-3 mb-3"},Qe={class:"font-semibold text-base text-gray-900"},Xe={class:"text-gray-700 mb-4 leading-relaxed"},Ze={class:"flex flex-wrap items-center gap-3 text-sm text-gray-600"},et={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},tt={class:"font-medium"},st={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},rt={class:"font-medium"},ot={class:"flex gap-2 ml-6"},lt=["onClick"],at=["onClick"],it=["onClick"],nt={key:1},dt={class:"bg-white rounded-lg border border-gray-200 p-6"},ut={class:"flex items-center gap-3 mb-6"},ct={class:"text-sm text-gray-600"},gt={class:"space-y-4"},bt={class:"flex items-start justify-between"},xt={class:"flex-1"},yt={class:"flex items-center gap-3 mb-3"},mt={class:"text-base font-semibold text-gray-900"},vt={class:"text-gray-700 mb-4 leading-relaxed"},pt={class:"flex flex-wrap gap-3 text-sm"},ft={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},ht={class:"font-medium text-gray-800"},wt={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},_t={class:"font-medium text-gray-800"},kt={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},Ct={class:"font-medium text-gray-800"},St={class:"flex gap-2 ml-6"},Dt=["onClick"],Tt=["onClick"],$t=["onClick"],jt={key:0,class:"text-center py-12"},Mt={class:"border-b border-gray-200 p-6 bg-white"},Ft={class:"flex items-start justify-between"},Nt={class:"flex-1"},Vt={class:"flex items-center gap-3 mb-3"},Ut={class:"text-xl font-semibold text-gray-900 mb-2 leading-tight"},zt={class:"flex flex-wrap items-center gap-4 text-sm text-gray-600"},Lt={class:"flex items-center gap-2"},Bt={class:"font-medium"},Yt={class:"flex items-center gap-2"},qt={class:"font-medium"},Et={class:"p-6 space-y-6 overflow-y-auto max-h-[calc(85vh-240px)] bg-gray-50"},It={class:"bg-white rounded-lg p-5 border border-gray-200"},Ot={class:"text-gray-800 whitespace-pre-wrap leading-relaxed text-sm"},Wt={class:"grid grid-cols-1 gap-3 sm:grid-cols-2"},Rt={class:"bg-white rounded-lg p-4 border border-gray-200"},At={class:"text-sm font-medium text-gray-900"},Kt={class:"bg-white rounded-lg p-4 border border-gray-200"},Gt={class:"text-sm font-medium text-gray-900"},Ht={key:0,class:"bg-white rounded-lg p-4 border border-gray-200"},Jt={class:"text-sm font-medium text-gray-900"},Pt={key:1,class:"bg-white rounded-lg p-4 border border-gray-200"},Qt={class:"text-sm font-medium text-gray-900"},Xt={class:"bg-white rounded-lg p-4 border border-gray-200"},Zt={class:"text-sm font-medium text-gray-900 truncate"},es={class:"sticky bottom-0 bg-white border-t border-gray-200 p-4 flex flex-col gap-2 sm:flex-row"},ts=ie({__name:"ScheduleCalendarView",setup(ss){const S=ce(),D=me(),F=ve(),{channels:K}=ne(F),f=c("calendar"),h=y(()=>D.schedules),G=r=>{const t=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},I=(r,t)=>{const s=G(t),n=t.getDate(),d=t.getDay();if(r.validUntil){const M=new Date(r.validUntil);if(t>M)return!1}return r.scheduleType==="once"?r.scheduledDate===s:r.scheduleType==="weekly"?r.weekDay===d:r.scheduleType==="monthly"?r.monthDay===n:!1},w=c(""),_=c(""),T=c(!1),$=c(null),H=[{value:"",label:"全部狀態"},{value:"active",label:"啟用中"},{value:"draft",label:"草稿"},{value:"paused",label:"已暫停"},{value:"completed",label:"已完成"}],k=c(new Date),u=c(null),N=c(!1),i=c(null),J=r=>{if(!r)return"";const t=new Date(r);return Number.isNaN(t.getTime())?"":t.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},V=r=>!r||!u.value?!1:u.value.getFullYear()===b.value&&u.value.getMonth()===x.value&&u.value.getDate()===r,P=r=>{const t=F.getChannelById(r);return t?`#${t.name}`:r},b=y(()=>k.value.getFullYear()),x=y(()=>k.value.getMonth()),Q=y(()=>new Date(b.value,x.value+1,0).getDate()),X=y(()=>new Date(b.value,x.value,1).getDay()),Z=y(()=>k.value.toLocaleDateString("zh-TW",{year:"numeric",month:"long"})),ee=y(()=>{const r=[],t=Q.value,s=X.value;for(let n=0;n<s;n++)r.push({day:null,schedules:[]});for(let n=1;n<=t;n++){const d=new Date(b.value,x.value,n),M=h.value.filter(ae=>I(ae,d));r.push({day:n,schedules:M})}return r}),O=y(()=>u.value?h.value.filter(r=>I(r,u.value)):[]),te=()=>{k.value=new Date(b.value,x.value-1,1)},se=()=>{k.value=new Date(b.value,x.value+1,1)},re=r=>{if(!r)return;const t=b.value,s=x.value;u.value=new Date(t,s,r,0,0,0,0)},oe=r=>{i.value=r,N.value=!0},j=()=>{N.value=!1,i.value=null},U=r=>({draft:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-yellow-100 text-yellow-700 border-yellow-200",completed:"bg-blue-100 text-blue-700 border-blue-200"})[r],z=r=>({draft:"草稿",active:"啟用中",paused:"已暫停",completed:"已完成"})[r],L=async r=>{try{$.value=null,await D.fetchSchedules({search:r?.search&&r.search.trim()!==""?r.search.trim():void 0,status:r?.status?r.status:void 0})}catch(t){const s=t.response?.data?.message||"載入排程失敗";r?$.value=s:alert(s)}},W=async()=>{T.value=!0,await L({search:w.value,status:_.value}),T.value=!1},le=async()=>{w.value="",_.value="",await W()};de(async()=>{if(await L(),!K.value.length)try{await F.fetchChannels()}catch(r){console.error("Failed to load Discord channels:",r)}}),ue([b,x],async()=>{await L({search:w.value,status:_.value})});const B=r=>{S.push(`/dashboard/schedule/edit/${r}`)},Y=r=>{D.setCopiedSchedule(r),S.push("/dashboard/schedule/new")},q=async r=>{if(confirm("確定要刪除此排程嗎？"))try{await D.deleteSchedule(r)}catch(t){console.error("Failed to delete schedule:",t),alert(t.response?.data?.message||"刪除排程失敗")}};return(r,t)=>(a(),l("div",pe,[t[55]||(t[55]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"排程行事曆"),e("p",{class:"text-gray-600"},"檢視和管理您的 Discord 訊息排程")],-1)),e("div",fe,[e("div",he,[e("div",we,[e("button",{onClick:t[0]||(t[0]=s=>f.value="calendar"),class:m(["px-4 py-2 rounded-md font-medium transition-colors cursor-pointer border",f.value==="calendar"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"])},[...t[10]||(t[10]=[e("i",{class:"bi bi-calendar3 mr-2"},null,-1),C(" 行事曆檢視 ",-1)])],2),e("button",{onClick:t[1]||(t[1]=s=>f.value="list"),class:m(["px-4 py-2 rounded-md font-medium transition-colors cursor-pointer border",f.value==="list"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"])},[...t[11]||(t[11]=[e("i",{class:"bi bi-list-ul mr-2"},null,-1),C(" 列表檢視 ",-1)])],2)]),e("button",{onClick:t[2]||(t[2]=s=>R(S).push("/dashboard/schedule/new")),class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium cursor-pointer"},[...t[12]||(t[12]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),C(" 新增排程 ",-1)])])])]),e("div",_e,[e("form",{onSubmit:E(W,["prevent"]),class:"grid grid-cols-1 gap-4 md:grid-cols-[1fr_200px_auto] md:items-end"},[e("div",ke,[t[13]||(t[13]=e("label",{for:"scheduleSearch",class:"text-sm font-medium text-gray-700"},"關鍵字",-1)),A(e("input",{id:"scheduleSearch","onUpdate:modelValue":t[3]||(t[3]=s=>w.value=s),type:"text",placeholder:"輸入標題或內容關鍵字",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900"},null,512),[[ge,w.value]])]),e("div",Ce,[t[14]||(t[14]=e("label",{for:"scheduleStatus",class:"text-sm font-medium text-gray-700"},"狀態",-1)),A(e("select",{id:"scheduleStatus","onUpdate:modelValue":t[4]||(t[4]=s=>_.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 cursor-pointer"},[(a(),l(v,null,p(H,s=>e("option",{key:s.value||"all",value:s.value},o(s.label),9,Se)),64))],512),[[be,_.value]])]),e("div",De,[e("button",{type:"button",onClick:le,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 transition-colors"}," 重設 "),e("button",{type:"submit",disabled:T.value,class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},o(T.value?"篩選中...":"套用篩選"),9,Te)])],32),$.value?(a(),l("p",$e,o($.value),1)):g("",!0)]),f.value==="calendar"?(a(),l("div",je,[e("div",Me,[e("div",Fe,[t[17]||(t[17]=xe('<div class="flex items-center gap-3" data-v-50caf612><div class="w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center" data-v-50caf612><i class="bi bi-calendar-event text-gray-600 text-xl" data-v-50caf612></i></div><div data-v-50caf612><h2 class="text-lg font-semibold text-gray-900" data-v-50caf612>月曆檢視</h2><p class="text-sm text-gray-600" data-v-50caf612>點擊日期查看詳細排程</p></div></div>',1)),e("div",Ne,[e("button",{onClick:te,class:"p-2 rounded-md border border-transparent hover:border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer"},[...t[15]||(t[15]=[e("i",{class:"bi bi-chevron-left text-lg text-gray-700"},null,-1)])]),e("div",Ve,[e("h3",Ue,o(Z.value),1)]),e("button",{onClick:se,class:"p-2 rounded-md border border-transparent hover:border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer"},[...t[16]||(t[16]=[e("i",{class:"bi bi-chevron-right text-lg text-gray-700"},null,-1)])])])]),e("div",ze,[(a(),l(v,null,p(["日","一","二","三","四","五","六"],s=>e("div",{key:s,class:"text-center font-medium text-gray-600 py-2 bg-gray-50 border border-gray-200 rounded-md"},o(s),1)),64)),(a(!0),l(v,null,p(ee.value,(s,n)=>(a(),l("div",{key:n,onClick:d=>re(s.day),class:m(["min-h-28 p-3 border rounded-md",s.day?"border-gray-200 cursor-pointer":"bg-gray-50 border-transparent cursor-default",s.day&&!V(s.day)?"transition-colors hover:bg-gray-100":"",V(s.day)?"bg-gray-200 border-gray-400 text-gray-900":""])},[s.day?(a(),l("div",Be,[e("div",{class:m(["text-sm font-medium mb-2",V(s.day)?"text-gray-900":"text-gray-800"])},o(s.day),3),e("div",Ye,[(a(!0),l(v,null,p(s.schedules.slice(0,2),d=>(a(),l("div",{key:d.id,onClick:E(M=>oe(d),["stop"]),class:"text-xs px-2 py-1 bg-white/80 border border-gray-200 rounded font-medium text-gray-700 hover:bg-gray-100 transition-colors flex items-center gap-1 min-w-0",title:d.title},[t[18]||(t[18]=e("i",{class:"bi bi-clock text-gray-500 flex-shrink-0"},null,-1)),d.scheduleType!=="once"?(a(),l("i",Ee)):g("",!0),e("span",Ie,o(d.scheduledTime.slice(0,5))+" "+o(d.title),1)],8,qe))),128)),s.schedules.length>2?(a(),l("div",Oe,[t[19]||(t[19]=e("i",{class:"bi bi-three-dots"},null,-1)),C(" +"+o(s.schedules.length-2)+" 更多 ",1)])):g("",!0)])])):g("",!0)],10,Le))),128))])]),u.value?(a(),l("div",We,[e("div",Re,[t[21]||(t[21]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-calendar-check text-gray-600 text-lg"})],-1)),e("div",null,[e("h3",Ae,o(u.value.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})),1),t[20]||(t[20]=e("p",{class:"text-sm text-gray-600"},"此日期的所有排程",-1))])]),O.value.length===0?(a(),l("div",Ke,[...t[22]||(t[22]=[e("div",{class:"w-20 h-20 bg-gray-50 border border-dashed border-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4"},[e("i",{class:"bi bi-calendar-x text-4xl text-gray-400"})],-1),e("p",{class:"text-gray-600 text-base font-medium mb-2"},"此日期沒有排程",-1),e("p",{class:"text-gray-400 text-sm"},"選擇其他日期或建立新排程",-1)])])):(a(),l("div",Ge,[(a(!0),l(v,null,p(O.value,s=>(a(),l("div",{key:s.id,class:"border border-gray-200 rounded-lg p-5 hover:bg-gray-50 transition-colors"},[e("div",He,[e("div",Je,[e("div",Pe,[e("h4",Qe,o(s.title),1),e("span",{class:m(["px-2 py-0.5 rounded text-xs font-medium border",U(s.status)])},o(z(s.status)),3)]),e("p",Xe,o(s.content),1),e("div",Ze,[e("div",et,[t[23]||(t[23]=e("i",{class:"bi bi-clock"},null,-1)),e("span",tt,o(s.scheduledTime),1)]),e("div",st,[t[24]||(t[24]=e("i",{class:"bi bi-arrow-repeat"},null,-1)),e("span",rt,o(s.scheduleType==="once"?"單次":s.scheduleType==="weekly"?"每週":"每月"),1)])])]),e("div",ot,[e("button",{onClick:n=>B(s.id),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"編輯"},[...t[25]||(t[25]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1)])],8,lt),e("button",{onClick:n=>Y(s),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"複製"},[...t[26]||(t[26]=[e("i",{class:"bi bi-files text-lg"},null,-1)])],8,at),e("button",{onClick:n=>q(s.id),class:"p-2 text-red-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-red-200 hover:bg-red-50",title:"刪除"},[...t[27]||(t[27]=[e("i",{class:"bi bi-trash text-lg"},null,-1)])],8,it)])])]))),128))]))])):g("",!0)])):(a(),l("div",nt,[e("div",dt,[e("div",ut,[t[29]||(t[29]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-list-ul text-gray-600 text-lg"})],-1)),e("div",null,[t[28]||(t[28]=e("h2",{class:"text-lg font-semibold text-gray-900"},"所有排程",-1)),e("p",ct,"共 "+o(h.value.length)+" 個排程",1)])]),e("div",gt,[(a(!0),l(v,null,p(h.value,s=>(a(),l("div",{key:s.id,class:"border border-gray-200 rounded-lg p-5 hover:bg-gray-50 transition-colors"},[e("div",bt,[e("div",xt,[e("div",yt,[e("h3",mt,o(s.title),1),e("span",{class:m(["px-2 py-0.5 rounded text-xs font-medium border",U(s.status)])},o(z(s.status)),3)]),e("p",vt,o(s.content),1),e("div",pt,[e("div",ft,[t[30]||(t[30]=e("i",{class:"bi bi-calendar-event text-gray-600"},null,-1)),e("span",ht,o(s.scheduledDate||"-"),1)]),e("div",wt,[t[31]||(t[31]=e("i",{class:"bi bi-clock text-gray-600"},null,-1)),e("span",_t,o(s.scheduledTime),1)]),e("div",kt,[t[32]||(t[32]=e("i",{class:"bi bi-arrow-repeat text-gray-600"},null,-1)),e("span",Ct,o(s.scheduleType==="once"?"單次執行":s.scheduleType==="weekly"?"每週重複":"每月重複"),1)])])]),e("div",St,[e("button",{onClick:n=>B(s.id),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"編輯"},[...t[33]||(t[33]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1)])],8,Dt),e("button",{onClick:n=>Y(s),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"複製"},[...t[34]||(t[34]=[e("i",{class:"bi bi-files text-lg"},null,-1)])],8,Tt),e("button",{onClick:n=>q(s.id),class:"p-2 text-red-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-red-200 hover:bg-red-50",title:"刪除"},[...t[35]||(t[35]=[e("i",{class:"bi bi-trash text-lg"},null,-1)])],8,$t)])])]))),128)),h.value.length===0?(a(),l("div",jt,[t[37]||(t[37]=e("div",{class:"w-24 h-24 bg-gray-50 border border-dashed border-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4"},[e("i",{class:"bi bi-calendar-x text-4xl text-gray-400"})],-1)),t[38]||(t[38]=e("p",{class:"text-gray-600 text-base font-medium mb-2"},"目前沒有任何排程",-1)),t[39]||(t[39]=e("p",{class:"text-gray-500 text-sm mb-6"},"開始建立您的第一個 Discord 訊息排程",-1)),e("button",{onClick:t[5]||(t[5]=s=>R(S).push("/dashboard/schedule/new")),class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium cursor-pointer"},[...t[36]||(t[36]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),C(" 建立第一個排程 ",-1)])])])):g("",!0)])])])),N.value&&i.value?(a(),l("div",{key:2,onClick:j,class:"fixed inset-0 bg-black/30 flex items-center justify-center z-50 p-4 animate-fade-in"},[e("div",{onClick:t[9]||(t[9]=E(()=>{},["stop"])),class:"bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[85vh] overflow-hidden animate-scale-in border border-gray-200"},[e("div",Mt,[e("div",Ft,[e("div",Nt,[e("div",Vt,[t[40]||(t[40]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-calendar-event text-gray-600 text-lg"})],-1)),e("span",{class:m(["px-2 py-0.5 rounded text-xs font-medium border",U(i.value.status)])},o(z(i.value.status)),3)]),e("h2",Ut,o(i.value.title),1),e("div",zt,[e("div",Lt,[t[41]||(t[41]=e("i",{class:"bi bi-clock-fill"},null,-1)),e("span",Bt,o(i.value.scheduledTime),1)]),e("div",Yt,[t[42]||(t[42]=e("i",{class:"bi bi-arrow-repeat"},null,-1)),e("span",qt,o(i.value.scheduleType==="once"?"單次執行":i.value.scheduleType==="weekly"?"每週重複":"每月重複"),1)])])]),e("button",{onClick:j,class:"p-2 rounded-md hover:bg-gray-100 transition-colors text-gray-500"},[...t[43]||(t[43]=[e("i",{class:"bi bi-x-lg text-xl"},null,-1)])])])]),e("div",Et,[e("div",null,[t[44]||(t[44]=e("div",{class:"flex items-center gap-2 mb-3"},[e("div",{class:"w-8 h-8 bg-white rounded-md flex items-center justify-center border border-gray-200"},[e("i",{class:"bi bi-chat-left-text text-gray-600"})]),e("h3",{class:"text-base font-semibold text-gray-900"},"訊息內容")],-1)),e("div",It,[e("p",Ot,o(i.value.content),1)])]),e("div",null,[t[51]||(t[51]=e("div",{class:"flex items-center gap-2 mb-4"},[e("div",{class:"w-8 h-8 bg-white rounded-md flex items-center justify-center border border-gray-200"},[e("i",{class:"bi bi-info-circle text-gray-600"})]),e("h3",{class:"text-base font-semibold text-gray-900"},"排程資訊")],-1)),e("div",Wt,[e("div",Rt,[t[45]||(t[45]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-arrow-repeat text-gray-500"}),e("p",{class:"font-medium"},"類型")],-1)),e("p",At,o(i.value.scheduleType==="once"?"單次執行":i.value.scheduleType==="weekly"?"每週重複":"每月重複"),1)]),e("div",Kt,[t[46]||(t[46]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-clock-fill text-gray-500"}),e("p",{class:"font-medium"},"時間")],-1)),e("p",Gt,o(i.value.scheduledTime),1)]),i.value.scheduledDate?(a(),l("div",Ht,[t[47]||(t[47]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-calendar-check text-gray-500"}),e("p",{class:"font-medium"},"日期")],-1)),e("p",Jt,o(i.value.scheduledDate),1)])):g("",!0),i.value.validUntil?(a(),l("div",Pt,[t[48]||(t[48]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-calendar-minus text-gray-500"}),e("p",{class:"font-medium"},"截止時間")],-1)),e("p",Qt,o(J(i.value.validUntil)),1),t[49]||(t[49]=e("p",{class:"text-xs text-gray-500 mt-1"},"超過此時間後排程將不再執行。",-1))])):g("",!0),e("div",Xt,[t[50]||(t[50]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-hash text-gray-500"}),e("p",{class:"font-medium"},"頻道")],-1)),e("p",Zt,o(P(i.value.channelId)),1)])])])]),e("div",es,[e("button",{onClick:t[6]||(t[6]=s=>B(i.value.id)),class:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium flex items-center justify-center gap-2"},[...t[52]||(t[52]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1),e("span",null,"編輯",-1)])]),e("button",{onClick:t[7]||(t[7]=s=>{Y(i.value),j()}),class:"flex-1 px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors font-medium flex items-center justify-center gap-2"},[...t[53]||(t[53]=[e("i",{class:"bi bi-files text-lg"},null,-1),e("span",null,"複製",-1)])]),e("button",{onClick:t[8]||(t[8]=s=>{q(i.value.id),j()}),class:"flex-1 px-4 py-2 bg-white text-red-600 border border-red-300 rounded-md hover:bg-red-50 transition-colors font-medium flex items-center justify-center gap-2"},[...t[54]||(t[54]=[e("i",{class:"bi bi-trash text-lg"},null,-1),e("span",null,"刪除",-1)])])])])])):g("",!0)]))}}),as=ye(ts,[["__scopeId","data-v-50caf612"]]);export{as as default};
