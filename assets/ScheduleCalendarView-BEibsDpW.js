import{d as ie,B as ne,r as g,c as m,o as de,G as ue,a as l,b as e,e as d,s as p,h as C,z as R,i as ce,w as E,g as G,v as ge,D as be,F as y,l as v,t as o,f as xe,j as a,_ as me}from"./index-BMKHKagT.js";import{u as pe}from"./schedule-h4vzK15K.js";import{u as ye}from"./discord-DzunpFyY.js";const ve={class:"max-w-7xl mx-auto"},fe={class:"bg-white rounded-lg border border-gray-200 p-4 mb-8"},he={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},we={class:"flex gap-2"},_e={class:"bg-white rounded-lg border border-gray-200 p-4 mb-8"},ke={class:"flex flex-col gap-2"},Ce={class:"flex flex-col gap-2"},Se=["value"],De={class:"flex gap-2 md:justify-end"},Te=["disabled"],je={key:0,class:"text-sm text-red-600 mt-3"},$e={key:0,class:"space-y-8"},Me={class:"bg-white rounded-lg border border-gray-200 p-6"},Fe={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6"},Ne={class:"flex items-center gap-2"},Ve={class:"px-3 py-2 rounded-md border border-gray-200 bg-gray-50"},Ue={class:"text-base font-medium text-gray-800"},ze={class:"grid grid-cols-7 gap-2"},Be=["onClick"],Le={key:0,class:"h-full flex flex-col"},Ye={class:"flex-1 space-y-1"},qe=["onClick","title"],Ee={key:0,class:"bi bi-arrow-repeat text-gray-500 flex-shrink-0",title:"循環排程"},Ie={class:"truncate"},Oe={key:0,class:"text-xs text-gray-600 font-semibold px-2"},We={key:0,class:"bg-white rounded-lg border border-gray-200 p-6"},Re={class:"flex items-center gap-3 mb-5"},Ge={class:"text-lg font-semibold text-gray-900"},Ke={key:0,class:"text-center py-12"},Ae={key:1,class:"space-y-4"},He={class:"flex items-start justify-between"},Je={class:"flex-1"},Pe={class:"flex items-center gap-3 mb-3"},Qe={class:"font-semibold text-base text-gray-900"},Xe={class:"text-gray-700 mb-4 leading-relaxed"},Ze={class:"flex flex-wrap items-center gap-3 text-sm text-gray-600"},et={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},tt={class:"font-medium"},st={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},rt={class:"font-medium"},ot=["title"],lt={class:"flex gap-2 ml-6"},at=["onClick"],it=["onClick"],nt=["onClick"],dt={key:1},ut={class:"bg-white rounded-lg border border-gray-200 p-6"},ct={class:"flex items-center gap-3 mb-6"},gt={class:"text-sm text-gray-600"},bt={class:"space-y-4"},xt={class:"flex items-start justify-between"},mt={class:"flex-1"},pt={class:"flex items-center gap-3 mb-3"},yt={class:"text-base font-semibold text-gray-900"},vt={class:"text-gray-700 mb-4 leading-relaxed"},ft={class:"flex flex-wrap gap-3 text-sm"},ht={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},wt={class:"font-medium text-gray-800"},_t={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},kt={class:"font-medium text-gray-800"},Ct={class:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-md"},St={class:"font-medium text-gray-800"},Dt=["title"],Tt={class:"flex gap-2 ml-6"},jt=["onClick"],$t=["onClick"],Mt=["onClick"],Ft={key:0,class:"text-center py-12"},Nt={class:"border-b border-gray-200 p-6 bg-white"},Vt={class:"flex items-start justify-between"},Ut={class:"flex-1"},zt={class:"flex items-center gap-3 mb-3"},Bt={class:"text-xl font-semibold text-gray-900 mb-2 leading-tight"},Lt={class:"flex flex-wrap items-center gap-4 text-sm text-gray-600"},Yt={class:"flex items-center gap-2"},qt={class:"font-medium"},Et={class:"flex items-center gap-2"},It={class:"font-medium"},Ot={class:"p-6 space-y-6 overflow-y-auto max-h-[calc(85vh-240px)] bg-gray-50"},Wt={class:"bg-white rounded-lg p-5 border border-gray-200"},Rt={class:"text-gray-800 whitespace-pre-wrap leading-relaxed text-sm"},Gt={class:"grid grid-cols-1 gap-3 sm:grid-cols-2"},Kt={class:"bg-white rounded-lg p-4 border border-gray-200"},At={class:"text-sm font-medium text-gray-900"},Ht={class:"bg-white rounded-lg p-4 border border-gray-200"},Jt={class:"text-sm font-medium text-gray-900"},Pt={key:0,class:"bg-white rounded-lg p-4 border border-gray-200"},Qt={class:"text-sm font-medium text-gray-900"},Xt={key:1,class:"bg-white rounded-lg p-4 border border-gray-200"},Zt={class:"text-sm font-medium text-gray-900"},es={class:"bg-white rounded-lg p-4 border border-gray-200"},ts={class:"text-sm font-medium text-gray-900 truncate"},ss={key:0,class:"mt-6"},rs={class:"bg-white rounded-lg p-4 border border-purple-200"},os={class:"space-y-3"},ls={class:"text-sm font-medium text-gray-900"},as={key:0},is={class:"text-sm text-gray-700 whitespace-pre-wrap"},ns={class:"sticky bottom-0 bg-white border-t border-gray-200 p-4 flex flex-col gap-2 sm:flex-row"},ds=ie({__name:"ScheduleCalendarView",setup(us){const S=ce(),D=pe(),F=ye(),{channels:K}=ne(F),f=g("calendar"),h=m(()=>D.schedules),A=r=>{const t=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0");return`${t}-${s}-${n}`},I=(r,t)=>{const s=A(t),n=t.getDate(),u=t.getDay();if(r.validUntil){const M=new Date(r.validUntil);if(t>M)return!1}return r.scheduleType==="once"?r.scheduledDate===s:r.scheduleType==="weekly"?r.weekDay===u:r.scheduleType==="monthly"?r.monthDay===n:!1},w=g(""),_=g(""),T=g(!1),j=g(null),H=[{value:"",label:"全部狀態"},{value:"active",label:"啟用中"},{value:"draft",label:"草稿"},{value:"paused",label:"已暫停"},{value:"completed",label:"已完成"}],k=g(new Date),c=g(null),N=g(!1),i=g(null),J=r=>{if(!r)return"";const t=new Date(r);return Number.isNaN(t.getTime())?"":t.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},V=r=>!r||!c.value?!1:c.value.getFullYear()===b.value&&c.value.getMonth()===x.value&&c.value.getDate()===r,P=r=>{const t=F.getChannelById(r);return t?`#${t.name}`:r},b=m(()=>k.value.getFullYear()),x=m(()=>k.value.getMonth()),Q=m(()=>new Date(b.value,x.value+1,0).getDate()),X=m(()=>new Date(b.value,x.value,1).getDay()),Z=m(()=>k.value.toLocaleDateString("zh-TW",{year:"numeric",month:"long"})),ee=m(()=>{const r=[],t=Q.value,s=X.value;for(let n=0;n<s;n++)r.push({day:null,schedules:[]});for(let n=1;n<=t;n++){const u=new Date(b.value,x.value,n),M=h.value.filter(ae=>I(ae,u));r.push({day:n,schedules:M})}return r}),O=m(()=>c.value?h.value.filter(r=>I(r,c.value)):[]),te=()=>{k.value=new Date(b.value,x.value-1,1)},se=()=>{k.value=new Date(b.value,x.value+1,1)},re=r=>{if(!r)return;const t=b.value,s=x.value;c.value=new Date(t,s,r,0,0,0,0)},oe=r=>{i.value=r,N.value=!0},$=()=>{N.value=!1,i.value=null},U=r=>({draft:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-yellow-100 text-yellow-700 border-yellow-200",completed:"bg-blue-100 text-blue-700 border-blue-200"})[r],z=r=>({draft:"草稿",active:"啟用中",paused:"已暫停",completed:"已完成"})[r],B=async r=>{try{j.value=null,await D.fetchSchedules({search:r?.search&&r.search.trim()!==""?r.search.trim():void 0,status:r?.status?r.status:void 0})}catch(t){const s=t.response?.data?.message||"載入排程失敗";r?j.value=s:alert(s)}},W=async()=>{T.value=!0,await B({search:w.value,status:_.value}),T.value=!1},le=async()=>{w.value="",_.value="",await W()};de(async()=>{if(await B(),!K.value.length)try{await F.fetchChannels()}catch(r){console.error("Failed to load Discord channels:",r)}}),ue([b,x],async()=>{await B({search:w.value,status:_.value})});const L=r=>{S.push(`/dashboard/schedule/edit/${r}`)},Y=r=>{D.setCopiedSchedule(r),S.push("/dashboard/schedule/new")},q=async r=>{if(confirm("確定要刪除此排程嗎？"))try{await D.deleteSchedule(r)}catch(t){console.error("Failed to delete schedule:",t),alert(t.response?.data?.message||"刪除排程失敗")}};return(r,t)=>(a(),l("div",ve,[t[61]||(t[61]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"排程行事曆"),e("p",{class:"text-gray-600"},"檢視和管理您的 Discord 訊息排程")],-1)),e("div",fe,[e("div",he,[e("div",we,[e("button",{onClick:t[0]||(t[0]=s=>f.value="calendar"),class:p(["px-4 py-2 rounded-md font-medium transition-colors cursor-pointer border",f.value==="calendar"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"])},[...t[10]||(t[10]=[e("i",{class:"bi bi-calendar3 mr-2"},null,-1),C(" 行事曆檢視 ",-1)])],2),e("button",{onClick:t[1]||(t[1]=s=>f.value="list"),class:p(["px-4 py-2 rounded-md font-medium transition-colors cursor-pointer border",f.value==="list"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:bg-gray-100"])},[...t[11]||(t[11]=[e("i",{class:"bi bi-list-ul mr-2"},null,-1),C(" 列表檢視 ",-1)])],2)]),e("button",{onClick:t[2]||(t[2]=s=>R(S).push("/dashboard/schedule/new")),class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium cursor-pointer"},[...t[12]||(t[12]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),C(" 新增排程 ",-1)])])])]),e("div",_e,[e("form",{onSubmit:E(W,["prevent"]),class:"grid grid-cols-1 gap-4 md:grid-cols-[1fr_200px_auto] md:items-end"},[e("div",ke,[t[13]||(t[13]=e("label",{for:"scheduleSearch",class:"text-sm font-medium text-gray-700"},"關鍵字",-1)),G(e("input",{id:"scheduleSearch","onUpdate:modelValue":t[3]||(t[3]=s=>w.value=s),type:"text",placeholder:"輸入標題或內容關鍵字",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900"},null,512),[[ge,w.value]])]),e("div",Ce,[t[14]||(t[14]=e("label",{for:"scheduleStatus",class:"text-sm font-medium text-gray-700"},"狀態",-1)),G(e("select",{id:"scheduleStatus","onUpdate:modelValue":t[4]||(t[4]=s=>_.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 cursor-pointer"},[(a(),l(y,null,v(H,s=>e("option",{key:s.value||"all",value:s.value},o(s.label),9,Se)),64))],512),[[be,_.value]])]),e("div",De,[e("button",{type:"button",onClick:le,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100 transition-colors"}," 重設 "),e("button",{type:"submit",disabled:T.value,class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"},o(T.value?"篩選中...":"套用篩選"),9,Te)])],32),j.value?(a(),l("p",je,o(j.value),1)):d("",!0)]),f.value==="calendar"?(a(),l("div",$e,[e("div",Me,[e("div",Fe,[t[17]||(t[17]=xe('<div class="flex items-center gap-3" data-v-15ded4ff><div class="w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center" data-v-15ded4ff><i class="bi bi-calendar-event text-gray-600 text-xl" data-v-15ded4ff></i></div><div data-v-15ded4ff><h2 class="text-lg font-semibold text-gray-900" data-v-15ded4ff>月曆檢視</h2><p class="text-sm text-gray-600" data-v-15ded4ff>點擊日期查看詳細排程</p></div></div>',1)),e("div",Ne,[e("button",{onClick:te,class:"p-2 rounded-md border border-transparent hover:border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer"},[...t[15]||(t[15]=[e("i",{class:"bi bi-chevron-left text-lg text-gray-700"},null,-1)])]),e("div",Ve,[e("h3",Ue,o(Z.value),1)]),e("button",{onClick:se,class:"p-2 rounded-md border border-transparent hover:border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer"},[...t[16]||(t[16]=[e("i",{class:"bi bi-chevron-right text-lg text-gray-700"},null,-1)])])])]),e("div",ze,[(a(),l(y,null,v(["日","一","二","三","四","五","六"],s=>e("div",{key:s,class:"text-center font-medium text-gray-600 py-2 bg-gray-50 border border-gray-200 rounded-md"},o(s),1)),64)),(a(!0),l(y,null,v(ee.value,(s,n)=>(a(),l("div",{key:n,onClick:u=>re(s.day),class:p(["min-h-28 p-3 border rounded-md",s.day?"border-gray-200 cursor-pointer":"bg-gray-50 border-transparent cursor-default",s.day&&!V(s.day)?"transition-colors hover:bg-gray-100":"",V(s.day)?"bg-gray-200 border-gray-400 text-gray-900":""])},[s.day?(a(),l("div",Le,[e("div",{class:p(["text-sm font-medium mb-2",V(s.day)?"text-gray-900":"text-gray-800"])},o(s.day),3),e("div",Ye,[(a(!0),l(y,null,v(s.schedules.slice(0,2),u=>(a(),l("div",{key:u.id,onClick:E(M=>oe(u),["stop"]),class:"text-xs px-2 py-1 bg-white/80 border border-gray-200 rounded font-medium text-gray-700 hover:bg-gray-100 transition-colors flex items-center gap-1 min-w-0",title:u.title},[t[18]||(t[18]=e("i",{class:"bi bi-clock text-gray-500 flex-shrink-0"},null,-1)),u.scheduleType!=="once"?(a(),l("i",Ee)):d("",!0),e("span",Ie,o(u.scheduledTime.slice(0,5))+" "+o(u.title),1)],8,qe))),128)),s.schedules.length>2?(a(),l("div",Oe,[t[19]||(t[19]=e("i",{class:"bi bi-three-dots"},null,-1)),C(" +"+o(s.schedules.length-2)+" 更多 ",1)])):d("",!0)])])):d("",!0)],10,Be))),128))])]),c.value?(a(),l("div",We,[e("div",Re,[t[21]||(t[21]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-calendar-check text-gray-600 text-lg"})],-1)),e("div",null,[e("h3",Ge,o(c.value.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"})),1),t[20]||(t[20]=e("p",{class:"text-sm text-gray-600"},"此日期的所有排程",-1))])]),O.value.length===0?(a(),l("div",Ke,[...t[22]||(t[22]=[e("div",{class:"w-20 h-20 bg-gray-50 border border-dashed border-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4"},[e("i",{class:"bi bi-calendar-x text-4xl text-gray-400"})],-1),e("p",{class:"text-gray-600 text-base font-medium mb-2"},"此日期沒有排程",-1),e("p",{class:"text-gray-400 text-sm"},"選擇其他日期或建立新排程",-1)])])):(a(),l("div",Ae,[(a(!0),l(y,null,v(O.value,s=>(a(),l("div",{key:s.id,class:"border border-gray-200 rounded-lg p-5 hover:bg-gray-50 transition-colors"},[e("div",He,[e("div",Je,[e("div",Pe,[e("h4",Qe,o(s.title),1),e("span",{class:p(["px-2 py-0.5 rounded text-xs font-medium border",U(s.status)])},o(z(s.status)),3)]),e("p",Xe,o(s.content),1),e("div",Ze,[e("div",et,[t[23]||(t[23]=e("i",{class:"bi bi-clock"},null,-1)),e("span",tt,o(s.scheduledTime),1)]),e("div",st,[t[24]||(t[24]=e("i",{class:"bi bi-arrow-repeat"},null,-1)),e("span",rt,o(s.scheduleType==="once"?"單次":s.scheduleType==="weekly"?"每週":"每月"),1)]),s.threadConfig?.enabled?(a(),l("div",{key:0,class:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 rounded-md",title:s.threadConfig.title},[...t[25]||(t[25]=[e("i",{class:"bi bi-chat-dots text-purple-600"},null,-1),e("span",{class:"font-medium text-purple-800"},"Thread",-1)])],8,ot)):d("",!0)])]),e("div",lt,[e("button",{onClick:n=>L(s.id),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"編輯"},[...t[26]||(t[26]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1)])],8,at),e("button",{onClick:n=>Y(s),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"複製"},[...t[27]||(t[27]=[e("i",{class:"bi bi-files text-lg"},null,-1)])],8,it),e("button",{onClick:n=>q(s.id),class:"p-2 text-red-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-red-200 hover:bg-red-50",title:"刪除"},[...t[28]||(t[28]=[e("i",{class:"bi bi-trash text-lg"},null,-1)])],8,nt)])])]))),128))]))])):d("",!0)])):(a(),l("div",dt,[e("div",ut,[e("div",ct,[t[30]||(t[30]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-list-ul text-gray-600 text-lg"})],-1)),e("div",null,[t[29]||(t[29]=e("h2",{class:"text-lg font-semibold text-gray-900"},"所有排程",-1)),e("p",gt,"共 "+o(h.value.length)+" 個排程",1)])]),e("div",bt,[(a(!0),l(y,null,v(h.value,s=>(a(),l("div",{key:s.id,class:"border border-gray-200 rounded-lg p-5 hover:bg-gray-50 transition-colors"},[e("div",xt,[e("div",mt,[e("div",pt,[e("h3",yt,o(s.title),1),e("span",{class:p(["px-2 py-0.5 rounded text-xs font-medium border",U(s.status)])},o(z(s.status)),3)]),e("p",vt,o(s.content),1),e("div",ft,[e("div",ht,[t[31]||(t[31]=e("i",{class:"bi bi-calendar-event text-gray-600"},null,-1)),e("span",wt,o(s.scheduledDate||"-"),1)]),e("div",_t,[t[32]||(t[32]=e("i",{class:"bi bi-clock text-gray-600"},null,-1)),e("span",kt,o(s.scheduledTime),1)]),e("div",Ct,[t[33]||(t[33]=e("i",{class:"bi bi-arrow-repeat text-gray-600"},null,-1)),e("span",St,o(s.scheduleType==="once"?"單次執行":s.scheduleType==="weekly"?"每週重複":"每月重複"),1)]),s.threadConfig?.enabled?(a(),l("div",{key:0,class:"flex items-center gap-2 px-3 py-1.5 bg-purple-100 rounded-md",title:s.threadConfig.title},[...t[34]||(t[34]=[e("i",{class:"bi bi-chat-dots text-purple-600"},null,-1),e("span",{class:"font-medium text-purple-800"},"Thread 已啟用",-1)])],8,Dt)):d("",!0)])]),e("div",Tt,[e("button",{onClick:n=>L(s.id),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"編輯"},[...t[35]||(t[35]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1)])],8,jt),e("button",{onClick:n=>Y(s),class:"p-2 text-gray-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-gray-300 hover:bg-gray-100",title:"複製"},[...t[36]||(t[36]=[e("i",{class:"bi bi-files text-lg"},null,-1)])],8,$t),e("button",{onClick:n=>q(s.id),class:"p-2 text-red-600 rounded-md transition-colors cursor-pointer border border-transparent hover:border-red-200 hover:bg-red-50",title:"刪除"},[...t[37]||(t[37]=[e("i",{class:"bi bi-trash text-lg"},null,-1)])],8,Mt)])])]))),128)),h.value.length===0?(a(),l("div",Ft,[t[39]||(t[39]=e("div",{class:"w-24 h-24 bg-gray-50 border border-dashed border-gray-200 rounded-lg flex items-center justify-center mx-auto mb-4"},[e("i",{class:"bi bi-calendar-x text-4xl text-gray-400"})],-1)),t[40]||(t[40]=e("p",{class:"text-gray-600 text-base font-medium mb-2"},"目前沒有任何排程",-1)),t[41]||(t[41]=e("p",{class:"text-gray-500 text-sm mb-6"},"開始建立您的第一個 Discord 訊息排程",-1)),e("button",{onClick:t[5]||(t[5]=s=>R(S).push("/dashboard/schedule/new")),class:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium cursor-pointer"},[...t[38]||(t[38]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),C(" 建立第一個排程 ",-1)])])])):d("",!0)])])])),N.value&&i.value?(a(),l("div",{key:2,onClick:$,class:"fixed inset-0 bg-black/30 flex items-center justify-center z-50 p-4 animate-fade-in"},[e("div",{onClick:t[9]||(t[9]=E(()=>{},["stop"])),class:"bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[85vh] overflow-hidden animate-scale-in border border-gray-200"},[e("div",Nt,[e("div",Vt,[e("div",Ut,[e("div",zt,[t[42]||(t[42]=e("div",{class:"w-10 h-10 bg-gray-100 rounded-md flex items-center justify-center"},[e("i",{class:"bi bi-calendar-event text-gray-600 text-lg"})],-1)),e("span",{class:p(["px-2 py-0.5 rounded text-xs font-medium border",U(i.value.status)])},o(z(i.value.status)),3)]),e("h2",Bt,o(i.value.title),1),e("div",Lt,[e("div",Yt,[t[43]||(t[43]=e("i",{class:"bi bi-clock-fill"},null,-1)),e("span",qt,o(i.value.scheduledTime),1)]),e("div",Et,[t[44]||(t[44]=e("i",{class:"bi bi-arrow-repeat"},null,-1)),e("span",It,o(i.value.scheduleType==="once"?"單次執行":i.value.scheduleType==="weekly"?"每週重複":"每月重複"),1)])])]),e("button",{onClick:$,class:"p-2 rounded-md hover:bg-gray-100 transition-colors text-gray-500"},[...t[45]||(t[45]=[e("i",{class:"bi bi-x-lg text-xl"},null,-1)])])])]),e("div",Ot,[e("div",null,[t[46]||(t[46]=e("div",{class:"flex items-center gap-2 mb-3"},[e("div",{class:"w-8 h-8 bg-white rounded-md flex items-center justify-center border border-gray-200"},[e("i",{class:"bi bi-chat-left-text text-gray-600"})]),e("h3",{class:"text-base font-semibold text-gray-900"},"訊息內容")],-1)),e("div",Wt,[e("p",Rt,o(i.value.content),1)])]),e("div",null,[t[57]||(t[57]=e("div",{class:"flex items-center gap-2 mb-4"},[e("div",{class:"w-8 h-8 bg-white rounded-md flex items-center justify-center border border-gray-200"},[e("i",{class:"bi bi-info-circle text-gray-600"})]),e("h3",{class:"text-base font-semibold text-gray-900"},"排程資訊")],-1)),e("div",Gt,[e("div",Kt,[t[47]||(t[47]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-arrow-repeat text-gray-500"}),e("p",{class:"font-medium"},"類型")],-1)),e("p",At,o(i.value.scheduleType==="once"?"單次執行":i.value.scheduleType==="weekly"?"每週重複":"每月重複"),1)]),e("div",Ht,[t[48]||(t[48]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-clock-fill text-gray-500"}),e("p",{class:"font-medium"},"時間")],-1)),e("p",Jt,o(i.value.scheduledTime),1)]),i.value.scheduledDate?(a(),l("div",Pt,[t[49]||(t[49]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-calendar-check text-gray-500"}),e("p",{class:"font-medium"},"日期")],-1)),e("p",Qt,o(i.value.scheduledDate),1)])):d("",!0),i.value.validUntil?(a(),l("div",Xt,[t[50]||(t[50]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-calendar-minus text-gray-500"}),e("p",{class:"font-medium"},"截止時間")],-1)),e("p",Zt,o(J(i.value.validUntil)),1),t[51]||(t[51]=e("p",{class:"text-xs text-gray-500 mt-1"},"超過此時間後排程將不再執行。",-1))])):d("",!0),e("div",es,[t[52]||(t[52]=e("div",{class:"flex items-center gap-2 mb-1 text-xs text-gray-500 uppercase tracking-wide"},[e("i",{class:"bi bi-hash text-gray-500"}),e("p",{class:"font-medium"},"頻道")],-1)),e("p",ts,o(P(i.value.channelId)),1)])]),i.value.threadConfig?.enabled?(a(),l("div",ss,[e("div",rs,[t[56]||(t[56]=e("div",{class:"flex items-center gap-2 mb-3"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-md flex items-center justify-center border border-purple-200"},[e("i",{class:"bi bi-chat-dots text-purple-600"})]),e("h3",{class:"text-base font-semibold text-gray-900"},"Thread 設定")],-1)),e("div",os,[e("div",null,[t[53]||(t[53]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1"},"Thread 標題",-1)),e("p",ls,o(i.value.threadConfig.title),1)]),i.value.threadConfig.initialMessage?(a(),l("div",as,[t[54]||(t[54]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide font-medium mb-1"},"初始訊息",-1)),e("p",is,o(i.value.threadConfig.initialMessage),1)])):d("",!0),t[55]||(t[55]=e("div",{class:"flex items-center gap-2 text-sm text-purple-700 bg-purple-50 px-3 py-2 rounded-md"},[e("i",{class:"bi bi-info-circle"}),e("span",null,"此排程會在訊息發送後自動建立討論串")],-1))])])])):d("",!0)])]),e("div",ns,[e("button",{onClick:t[6]||(t[6]=s=>L(i.value.id)),class:"flex-1 px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium flex items-center justify-center gap-2"},[...t[58]||(t[58]=[e("i",{class:"bi bi-pencil-square text-lg"},null,-1),e("span",null,"編輯",-1)])]),e("button",{onClick:t[7]||(t[7]=s=>{Y(i.value),$()}),class:"flex-1 px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors font-medium flex items-center justify-center gap-2"},[...t[59]||(t[59]=[e("i",{class:"bi bi-files text-lg"},null,-1),e("span",null,"複製",-1)])]),e("button",{onClick:t[8]||(t[8]=s=>{q(i.value.id),$()}),class:"flex-1 px-4 py-2 bg-white text-red-600 border border-red-300 rounded-md hover:bg-red-50 transition-colors font-medium flex items-center justify-center gap-2"},[...t[60]||(t[60]=[e("i",{class:"bi bi-trash text-lg"},null,-1),e("span",null,"刪除",-1)])])])])])):d("",!0)]))}}),xs=me(ds,[["__scopeId","data-v-15ded4ff"]]);export{xs as default};
